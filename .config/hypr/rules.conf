# github.com/pahasara/HyprDots

# ──────────────────────────────────────────────────────────────
# PERMISSIONS
# ──────────────────────────────────────────────────────────────
permission = /usr/bin/grim,                         screencopy, allow
permission = /usr/bin/hyprpicker,                   screencopy, allow
permission = /usr/bin/hyprlock,                     screencopy, allow
permission = /usr/lib/xdg-desktop-portal-hyprland,  screencopy, allow


# ──────────────────────────────────────────────────────────────
# LAYERS
# ──────────────────────────────────────────────────────────────
layerrule = blur on,            match:namespace (waybar|rofi|notifications)
layerrule = ignore_alpha 0.1,   match:namespace (waybar|rofi|notifications)
layerrule = dim_around on,      match:namespace (rofi)


# ──────────────────────────────────────────────────────────────
# WORKSPACE ROUTING
# ──────────────────────────────────────────────────────────────

# WS2 — Browsing
windowrule = workspace 2, match:class (zen|firefox|.*[Bb]rowser)

# WS3 — Media / Productivity
windowrule = workspace 3, match:class (mpv|vlc|gimp|code|obsidian)(.*)
windowrule = workspace 3, match:class (.*)(libreoffice|kdenlive|Foliate|rider)(.*)

# WS4 — Games / Entertainment
windowrule = workspace 4, match:class (steam|steam_app.*|cs2|dota2|zoom|VirtualBox)(.*)
windowrule = workspace 4, match:xdg_tag (proton-game)
windowrule = workspace 4, match:class (.*)(Lutris|spotify|okular|dolphin)(.*)

# WS10 — Social / Torrent
windowrule = workspace 10, match:class (vesktop|discord|signal|GitHub)(.*)
windowrule = workspace 10, match:class (.*)(telegram|qbittorrent)(.*)


# ──────────────────────────────────────────────────────────────
# WINDOW BEHAVIOR (DEFAULTS)
# ──────────────────────────────────────────────────────────────

# Floating: Titles
windowrule = float on, match:title (Okular|About)(.*)
windowrule = float on, match:title (Picture-in-Picture|Open (File|Folder|Document)|Choose Files)

# Floating: Classes (Contains pattern)
windowrule = float on, match:class (.*)(kitty|zen|mpv|vlc|imv|nomacs|lutris|Lollypop|pupgui2)(.*)
windowrule = float on, match:class (.*)(nwg-look|qt[56]ct|zathura|qbittorrent|easyeffects|MissionCenter)(.*)
windowrule = float on, match:class (.*)(gnome|kde|keditfiletype)(.*), match:title negative:(.*)(Kdenlive)

# Floating: Classes (Start pattern)
windowrule = float on, match:class (Zoom Workplace|xdg-desktop-portal-gtk|VirtualBox|waypaper)(.*)

# Centering Policy
windowrule = center on, match:class (.*)(kitty|MissionCenter|pupgui2|Lollypop|Lutris|mpv|discord)(.*)
windowrule = center on, match:class (.*)(imv|nomacs|easyeffects|nwg-look|qt[56]ct|zathura|gnome|kde)(.*)

# Tiling Overrides
windowrule = tile on, match:title (Zen Browser|qBittorrent)(.*)
windowrule = tile on, match:class (kompare)(.*), match:title (Kompare)(.*)

# Focus & Idle
windowrule = stay_focused on, pin on    match:class (.*)(hyprland-dialog|hyprland-donate)(.*)
windowrule = stay_focused on,           match:title (.*)(About)(.*)
windowrule = idle_inhibit fullscreen,   match:class (.*)
windowrule = idle_inhibit focus,        match:class (.*)(Lollypop)

# Misc Generic
windowrule = no_blur on,                match:xwayland true
windowrule = border_size 0,             match:class (imv)
windowrule = pin on,                    match:class (.*)(MissionCenter)(.*)
windowrule = suppress_event maximize,   match:class (.*)


# ──────────────────────────────────────────────────────────────
# SIZING RULES
# ──────────────────────────────────────────────────────────────

# Large Standard (64% x 75%)
windowrule = size (monitor_w*0.64) (monitor_h*0.75), match:class (.*)(Lutris|Lollypop|vesktop|discord|okular|MissionCenter)(.*)
windowrule = size (monitor_w*0.64) (monitor_h*0.75), match:class (.*)(gnome|kde)(.*), match:title negative:(.*Dolphin|About.*)

# Medium/Small Specifics
windowrule = size (monitor_w*0.48) (monitor_h*0.58), match:title (kitty|ProtonUp-Qt -)(.*)
windowrule = size (monitor_w*0.65) (monitor_h*0.65), match:class (.*)(imv|nomacs)(.*)
windowrule = size (monitor_w*0.72) (monitor_h*0.72), match:class (.*)(zathura)(.*)
windowrule = size (monitor_w*0.78) (monitor_h*0.85), match:class (.*)(easyeffects)
windowrule = size (monitor_w*0.55) (monitor_h*0.55), match:title (Picture-in-Picture)
windowrule = size (monitor_w*0.55) (monitor_h*0.65), match:class (.*)(qt[65]ct|nwg-look)(.*)


# ──────────────────────────────────────────────────────────────
# APPLICATION-SPECIFIC OVERRIDES
# ──────────────────────────────────────────────────────────────

# KDE Specifics
windowrule = stay_focused on, match:class (org.kde.polkit-kde-authentication-agent-1)
windowrule = float on,        match:class (kompare)(.*), match:title (About|Select|Compare)(.*)
windowrule = tile on,         match:class (.*)(kid3|kdenlive)(.*), match:title negative:(Project|Open|Find|Configure|About)(.*)

# XDG Desktop Portal & Save Dialogs
windowrule = center on, size (monitor_w*0.54) (monitor_h*0.68), match:class (xdg-desktop-portal-gtk)
windowrule = center on, size (monitor_w*0.54) (monitor_h*0.68), match:title (Save As)(.*)

# KColorChooser
windowrule = move (monitor_w*0.51) (monitor_h*-0.11), match:class (.*)(kcolorchooser)

# Zen Browser
windowrule = focus_on_activate on, match:class (zen)(.*)
windowrule = stay_focused off,     match:class (zen), match:title negative:(Zen Browser)

# TimeCanvas & Waypaper
windowrule = float on, center on, match:class (TimeCanvas)
windowrule = opacity 0.9,         match:class (waypaper)
windowrule = size (monitor_w*0.505) (monitor_h*0.58), match:class (waypaper)
windowrule = move (monitor_w*0.49) (monitor_h*0.41),  match:class (waypaper)

# qBittorrent
windowrule = center on, stay_focused on,             match:class (.*)(qBittorrent), match:title negative:(qBittorrent)(.*)
windowrule = size (monitor_w*0.61) (monitor_h*0.76), match:class (.*)(qBittorrent), match:title negative:(.*)(Remove|Torrent|Statistics)(.*)

# ProtonVPN
windowrule = float on, center on,                    match:class (protonvpn)(.*)
windowrule = size (monitor_w*0.30) (monitor_h*0.17), match:class (protonvpn)(.*), match:title (Active connection)(.*)
windowrule = move (monitor_w*0.778) (monitor_h*0.035), match:class (protonvpn)(.*), match:title (Proton VPN)

# VirtualBox
windowrule = fullscreen on, match:class (VirtualBox Machine)
windowrule = center on,     match:class (VirtualBox), match:title (Settings)(.*)

# GIMP
windowrule = float on,        match:class (file-png), match:title (Export)(.*)
windowrule = stay_focused on, match:class (gimp),     match:title (Quit)(.*)

# Dolphin
windowrule = float on,  match:class (.*)(dolphin)
windowrule = center on, match:class (.*)(dolphin),      match:title negative:(.*)(Properties)(.*)
windowrule = size (monitor_w*0.7) (monitor_h*0.8),      match:class (.*)(dolphin), match:title (Home)(.*)
windowrule = move (monitor_w*0.005) (monitor_h*0.05),   match:class (.*)(dolphin), match:title (.*)(Copy|Moving|Compress|Extract)(.*)
windowrule = stay_focused on,                           match:class (org.kde.dolphin), match:title (File|Delete)(.*)

# Steam
windowrule = content game,                  match:class (steam_app.*|cs2|dota2)
windowrule = fullscreen on,                 match:content 3, match:title negative:(.*)(Launcher|Options|Setup|Working)(.*)
windowrule = float on,                      match:class (steam), match:title negative:(Steam)
windowrule = center on,                     match:class (steam), match:title (Sign)(.*)
windowrule = rounding 1,                    match:float 1, match:class (steam)
windowrule = suppress_event activatefocus,  match:class (steam)

# JetBrains IDEs
windowrule = float on, center on,          match:class (jetbrains)(.*), match:title (Welcome)(.*)
windowrule = rounding 7,                   match:float 1, match:class (jetbrains)(.*)
windowrule = border_color rgba(56585B99),  match:float 1, match:class (jetbrains)(.*)
windowrule = stay_focused on,              match:class (jetbrains)(.*), match:title (Confirm)(.*)
windowrule = size (monitor_w*0.42) (monitor_h*0.40), match:class (jetbrains)(.*), match:title (Welcome)(.*)

# vim: set ft=hyprlang :
